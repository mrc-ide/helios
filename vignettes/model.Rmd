---
title: "An individual-based model for assessing far UVC interventions"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{model}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
options(rmarkdown.html_vignette.check_title = FALSE)

knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

This vignette describes the modelling approach used in `helios`.

## Population

The population consists of a certain number of individuals with properties.

## Age structure

Age categories are children, adults, and the elderly.

## Households

Households are comprised of the following individuals.

## Workplaces

Workplaces are attended by adults.
Workplace sizes are drawn from the following distribution.

## Schools

Schools are attended by children.
School sizes are drawn from the following distribution.

## Leisure

Leisure venues are attended by who.
Leisure venue sizes are drawn from the following distribution.

## Community mixing

Overall community mixing is implemented via some mechanism.

## Interventions

To be described once implemented!

## Disease states

We consider a compartmental model with susceptible ($S$), exposed ($E$), infectious ($I$), and recovered ($R$) disease states.

### Transition from state $S \to E$

The total force of infection $\lambda$ for each individual is a sum of household, workplace, school, leisure, and community specific force of infections
$$
\lambda = \lambda_h + \lambda_w + \lambda_s + \lambda_l + \lambda_c.
$$
The probability of infection in a given time step $\delta > 0$ is
$$
\mathbb{P}(S \to E) = 1 - \exp(\lambda \delta)
$$

### Transition from state $E \to I$

Individuals progress from exposed to infectious with a random delay $d \geq 1$ such that
$$
c \sim \text{Gamma}(2\gamma, 2), \\
d = \text{round}(c + 1).
$$
where $\gamma > 0$ is the duration exposed which we set to 2.
The delay $d$ is a number of time steps $\delta$.

### Transition from state $I \to R$

Individuals progress from infectious to recovered after a random disease duration $f \geq 1$ such that
$$
e \sim \text{Gamma}(2\upsilon, 2), \\
f = \text{round}(e + 1).
$$
where $\upsilon$ is the duration of infectiousness which we set to 4.
The disease duration $f$ is a number of time steps $\delta$.
